require 'spec_helper'

describe OCR::AccountNumber do

  describe '#parse' do

    inputs = {
      000000000 => %Q(
 _  _  _  _  _  _  _  _  _ 
| || || || || || || || || |
|_||_||_||_||_||_||_||_||_|
       
    ),
      111111111 => %Q(
                           
  |  |  |  |  |  |  |  |  |
  |  |  |  |  |  |  |  |  |

    ),
      222222222 => %Q(
 _  _  _  _  _  _  _  _  _ 
 _| _| _| _| _| _| _| _| _|
|_ |_ |_ |_ |_ |_ |_ |_ |_ 
       
    ),
      333333333 => %Q(
 _  _  _  _  _  _  _  _  _   
 _| _| _| _| _| _| _| _| _|
 _| _| _| _| _| _| _| _| _|
    ),
      444444444 => %Q(
                           
|_||_||_||_||_||_||_||_||_|
  |  |  |  |  |  |  |  |  |
    ),
      555555555 => %Q(
 _  _  _  _  _  _  _  _  _ 
|_ |_ |_ |_ |_ |_ |_ |_ |_ 
 _| _| _| _| _| _| _| _| _|
       
    ),
      666666666 => %Q(
 _  _  _  _  _  _  _  _  _ 
|_ |_ |_ |_ |_ |_ |_ |_ |_ 
|_||_||_||_||_||_||_||_||_|
    ),
      777777777 => %Q(
 _  _  _  _  _  _  _  _  _ 
  |  |  |  |  |  |  |  |  |
  |  |  |  |  |  |  |  |  |
    ),
      888888888 => %Q(
 _  _  _  _  _  _  _  _  _ 
|_||_||_||_||_||_||_||_||_|
|_||_||_||_||_||_||_||_||_|
    ),
      999999999 => %Q(
 _  _  _  _  _  _  _  _  _ 
|_||_||_||_||_||_||_||_||_|
 _| _| _| _| _| _| _| _| _|
    ),
      123456789 => %Q(
    _  _     _  _  _  _  _ 
  | _| _||_||_ |_   ||_||_|
  ||_  _|  | _||_|  ||_| _|
    )
    }

    inputs.each do |account_number, input|
      context "for account number #{input}" do
        subject { OCR::AccountNumber.new(input) }

        it 'return account number as digits' do
            expect(subject.parse).to eq account_number
        end
      end
    end
  end
end
